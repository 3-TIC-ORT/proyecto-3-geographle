<!--MENU CON LOS JUEGOS-->
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" href="GeographleMenu.css">
    <title>Geographle</title>
</head>
<body class="light-mode" id="body">
    <div 
    class="menudropdown"
    id="menudropdown"
    >
      <img src="../Img/ic_outline-home.png" alt="home-Btn" class="casa" onclick="openmenudropdown()">

      <div class="gamesMenuContainer">

        <div class="gameMenu">JUEGO 1
          <img src="../Img/Foto top 10.png" class="Gamemc"></img>
        </div>

        <div class="gameMenu">JUEGO 2
          <img src="../Img/Foto connections.png" class="Gamemc"></img>
        </div>

        <div class="gameMenu">JUEGO 3
          <img src="../Img/Foto guess about.png" class="Gamemc"></img>
        </div>

        <div class="gameMenu">JUEGO 4
          <img src="../Img/Foto horl.png" class="Gamemc"></img>
        </div>
        
      </div>
    </div>
    <div class="estadown" id="estadown">
      <div class="estasdown">
        <div class="pene">
          <div class="intro">
            <div class="sta">STATISTICS</div>
            <div class="sub">ALL GAMES</div>
          </div>
          <img class="cruz" src="../Img/tabler_xbox-x-filled.png" onclick="openestadown()">
        </div>
        <div class="sepa">
          <div class="chart-wrapper">
            <div class="game-title">Connections</div>
            <div class="chart-container">
              <canvas id="chart1"></canvas>
            </div>
          </div>
          
          <div class="chart-wrapper">
            <div class="game-title">Guess About</div>
            <div class="chart-container">
              <canvas id="chart2"></canvas>
            </div>
          </div>
          
          <div class="chart-wrapper">
            <div class="game-title">Top 10</div>
            <div class="chart-container">
              <canvas id="chart3"></canvas>
            </div>
          </div>
          
          <div class="chart-wrapper">
            <div class="game-title">Higher or Lower</div>
            <div class="chart-container">
              <canvas id="chart4"></canvas>
            </div>
          </div>
        </div>
        <div class="nav-dots">
          <div class="dot active"></div>
          <div class="dot"></div>
          <div class="dot"></div>
          <div class="dot"></div>
        </div>
          
          <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
          </div>
        </div>
        </div>
      </div>
    </div>
    <div class="optidown" id="optidown">
      <div class="opdown">
        <div class="penedoble">
          <div class="etbal">
            <div class="sett">SETTINGS</div>
          </div>
          <img class="cruz2" src="../Img/tabler_xbox-x-filled.png" onclick="optisdown()">
        </div>
        <div class="lineas">
          <div class="lineaetbalera1">
            <div class="dark">DARK THEME</div>
            <label class="switch">
              <input type="checkbox" id="themeMode-check" onclick="toggleTheme()">
              <span class="slider"></span>
          </label>
            
          </div>
          <div class="lineaetbalera2">
            <div class="win">WINNING ANIMATION</div>
            <label for="themeMode-check2">
              <div class="themeMode-check-container2" id="themeMode-check-container2"></div>
            </label>
            <input type="checkbox" name="themeMode-check2" id="themeMode-check2" style="display: none;" onchange="thememode2()">
          </div>
        </div>
          <div class="dia">
            <div class="numdia">GEOGRAPHLE #1</div>
            <div class="version">V. 1.00</div>
          </div>
      </div>
    </div>
    <div class="infodown" id="infodown">
      <div class="muchainfo">
        <div class="todo">
            <div class="dos">
              <div class="inf">INFO</div>
              <img class="iminf" src="../Img/octicon_info-16.png"></img>
              <img class="cruz3" src="../Img/tabler_xbox-x-filled.png" onclick="infodown()"></img>
            </div>
            <div class="desc">
              On this website there are 4 mini-games focused on geography. There will be a daily attempt at each one, although previous days can be played through an archive section.
            </div>  
            <img class="im" src="../Img/image 27.png" alt="">
        </div>
      </div>
    </div>
    <header>
      <div class="Login">
        <img class="Imgmenu" src="../Img/mingcute_menu-fill.png" onclick="openmenudropdown()">
        <a href="/Frontend/LogIn/register.html">
          <img class="user" src="../Img/User.png" alt="">
        </a>
      </div>
        <a href="/Frontend/Menu/" class="juntitos">
          <h1 class="Geograph">GEOGRAPH</h1>
          <h1 class="le">LE</h1>
        </a>
        <div class="iconos">
          <img class="info" src="../Img/octicon_info-16.png" onclick="infodown()">
          <img class="stats" src="../Img/gridicons_stats-up.png" onclick="openestadown()">
          <img class="options" src="../Img/mdi_settings.png" onclick="optisdown()">
        </div>
    </header>
<div class="juegos">
  <div class="caja1">
    <a href="/Frontend/Top10/" class="box1">
    <div class="RecAb1">PLAY</div>
    <img class="camera1" src="../Img/image 8.png">
    <div class="arriba1">GEOGRAPHLE Top 10</div>   
    </a>

    <a href="/Frontend/Connections/" class="box2"> 
      <div class="RecAb2">PLAY</div>
      <img class="camera2" src="../Img/image 6 (1).png">  
      <div class="arriba2">GEOGRAPHLE Connections</div> 
    </a>
  </div>

  <div class="caja2">
    <a href="/Frontend/GuessAbout/" class="box3"> 
      <div class="RecAb3">PLAY</div>
      <img class="camera3" src="../Img/image 7.png">
      <div class="arriba3">GEOGRAPHLE GuessAbout</div>   
    </a>

    <a href="/Frontend/Higher or Lower/" class="box4"> 
      <div class="RecAb4">PLAY</div>
      <img class="camera4" src="../Higher or Lower/H&Limg/image 1 (2).png"> 
      <div class="arriba4">GEOGRAPHLE Higher Or Lower</div>  
  </a>    
  </div>
  </div>
  <script src="GeographleMenu.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.4/socket.io.js"></script>
    <script src="../socket.js"></script>
    <script>
 // Función para crear los gráficos
function createGameChart(canvasId, wins = 0, loses = 0) {
  const ctx = document.getElementById(canvasId);
  return new Chart(ctx, {
    type: 'doughnut',
    data: {
      labels: ['Wins', 'Loses'],
      datasets: [{
        data: [wins, loses],
        backgroundColor: [
          'rgb(0, 255, 0)',
          'rgb(255, 0, 0)'
        ],
        borderWidth: 1,
        hoverOffset: 4
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          position: 'bottom'
        }
      }
    }
  });
}

// Inicializar los gráficos
const username = localStorage.getItem("username");

// Crear gráficos vacíos para Top 10 y Higher or Lower
createGameChart('chart3'); // Top 10
createGameChart('chart4'); // Higher or Lower

// Cargar datos para Connections y GuessAbout
if (username !== undefined) {
  // Cargar estadísticas de Connections
  postData("cargarEstadisticas", username, (data) => {
    const {wins = 0, loses = 0} = data;
    createGameChart('chart1', wins, loses); // Connections
  });

  // Cargar estadísticas de GuessAbout
  postData("cargarEstadisticasGuessAbout", username, (data) => {
    const {wins = 0, loses = 0} = data;
    createGameChart('chart2', wins, loses); // GuessAbout
  });
} else {
  // Crear gráficos vacíos si no hay usuario
  createGameChart('chart1'); // Connections vacío
  createGameChart('chart2'); // GuessAbout vacío
}

// Navegación con dots
const sepa = document.querySelector('.sepa');
const dots = document.querySelectorAll('.dot');

sepa.addEventListener('scroll', () => {
  const index = Math.round(sepa.scrollLeft / sepa.clientWidth);
  dots.forEach((dot, i) => {
    dot.classList.toggle('active', i === index);
  });
});

dots.forEach((dot, index) => {
  dot.addEventListener('click', () => {
    sepa.scrollTo({
      left: index * sepa.clientWidth,
      behavior: 'smooth'
    });
  });
});

// Opcional: Actualizar dots al cambiar el tamaño de la ventana
window.addEventListener('resize', () => {
  const index = Math.round(sepa.scrollLeft / sepa.clientWidth);
  dots.forEach((dot, i) => {
    dot.classList.toggle('active', i === index);
  });
});
    </script>
</body>
</html>